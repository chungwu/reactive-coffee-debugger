(function(){var a;a=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;return t={},u=a.rxt,e=u.tags,l=a.cell(!1),g=a.cell(!0),s=0,r=function(){return s+=1},t.flashedElements=o={},d=1e3,k=function(a,b){return setTimeout(b,a)},j=function(a){var b,c,d;d=[];for(c in o)b=o[c],null==a||b.lastAccessed<=a?(b.$cover.remove(),d.push(delete o[c])):d.push(void 0);return d},q=function(a){var b,c,d,f;return f=a.offset(),c=f.left,d=f.top,b=e.div({class:"rxd-cover",style:{position:"absolute",zIndex:1e3,textAlign:"right",color:"#444",fontWeight:"strong",fontFamily:"monospace",fontSize:"10px",lineHeight:"1em",whiteSpace:"nowrap",pointerEvents:"none"}}),b.data("$elt",a),b.css("border","4px solid transparent"),b},z=function(a){var c,d,e,f,g,h,i,j,k;if(d=a.$elt,c=a.$cover,k=d.offset(),i=k.left,j=k.top,c.width(d.outerWidth()),c.height(d.outerHeight()),c.offset({left:i-4,top:j-4}),f=[],a.count>0&&f.push(""+a.count+"x"),a.attrs.length>0){h=b.countBy(a.attrs);for(e in h)g=h[e],f.push(""+e+(g>1?"-"+g+"x":""))}return c.text(f.join("; ")),a.isBody?c.css("backgroundColor","rgba(255, 56, 56, "+Math.min(.8,.2+a.count/10*.1)):a.isArrayChild&&c.css("backgroundColor","rgba(255, 152, 0, "+Math.min(.8,.2+a.count/10*.1)),a.attrs.length>0&&c.css("borderColor","rgba(63, 81, 181, "+Math.min(.8,.5+a.attrs.length/10*.1)+")"),d.is(":visible")?c.show():c.hide(),a.lastAccessed=(new Date).getTime()},p=function(a){var b,d,e;return e=a.data("rxdUid"),null==e&&(a.data("rxdUid",r()),e=a.data("rxdUid")),d=o[e],null==d&&(b=q(a).appendTo(c("body")),d={$cover:b,$elt:a,count:0,attrs:[],isArrayChild:!1,isBody:!1},o[e]=d),d},n=function(a,b){var c;return c=p(a),c.count+=1,c.isBody=c.isBody||!b,c.isArrayChild=c.isArrayChild||b,z(c)},m=function(a,b){var c;return c=p(a,"attrs"),c.attrs.push(b),z(c)},f=null,i=null,x=function(){return f=a.autoSub(u.events.onElementAttrsChanged,function(a){var b,c;return b=a.$element,c=a.attr,k(0,function(){return m(b,c)})}),i=a.autoSub(u.events.onElementChildrenChanged,function(a){var b,d,e,f,g;return b=a.$element,f=a.type,d=a.added,e=a.removed,g=a.updated,k(0,function(){var a,e,h,i,j,k,l,m;if("rerendered"===f)return n(b,!1);if("childrenUpdated"===f){for(k=null!=d?d:[],e=0,i=k.length;e<i;e++)a=k[e],a instanceof Element&&n(c(a),!0);for(l=null!=g?g:[],m=[],h=0,j=l.length;h<j;h++)a=l[h],a instanceof Element?m.push(n(c(a),!1)):m.push(void 0);return m}})})},y=function(){if(null!=f&&(u.events.onElementAttrsChanged.unsub(f),f=null),null!=i)return u.events.onElementChildrenChanged.unsub(i),i=null},t.installDebugger=function(a){return u.events.enabled=!0,c("body").append(e.div({class:"rxd-debug-panel",style:{padding:"5px",position:"fixed",right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",color:"#fff",borderTopLeftRadius:"5px",fontSize:"10px"}},[e.div([e.label([e.input({type:"checkbox",checked:l,click:function(){var a;return a=c(this).prop("checked"),w(a),c(this).prop("checked",a)}})," Enable?"])]),e.div([e.label([e.input({type:"checkbox",checked:g,click:function(){var a;return a=c(this).prop("checked"),v(a),c(this).prop("checked",a)}})," Auto-clear?"])]),e.div([e.a({href:"#",style:{color:"#fff"},click:function(){return j(),!1}},"Clear all")])]))},t.setEnabled=w=function(a){return l.set(a)},t.setAutoClear=v=function(a){return g.set(a)},a.autoSub(l.onSet,function(a){var b,c;return c=a[0],b=a[1],b?x():(j(),y())}),h=null,a.autoSub(g.onSet,function(a){var b,c;return c=a[0],b=a[1],j(),b?h=setInterval(function(){return j((new Date).getTime()-d)},d/2):(clearInterval(h),h=null)}),a.clearHighlights=function(){return j()},t},function(a,b){var c,d,e,f,g,h;if(d=["rx","underscore"],(e="undefined"!=typeof window)&&d.push("jquery"),null!=("undefined"!=typeof define&&null!==define?define.amd:void 0))return define(d,b);if(null!=("undefined"!=typeof module&&null!==module?module.exports:void 0))return c=e?require("jquery"):void 0,h=require("underscore"),f=require("rx"),g=b(f,h,c),module.exports=g;if(null!=a._&&null!=a.$&&null!=a.rx)return a.rxd=b(a.rx,a._,a.$);throw"Dependencies are not met for reactive-coffee-debugger: rx and _ and $ not found"}(this,a)}).call(this);
//# sourceMappingURL=reactive-coffee-debugger.min.js.map